@import url("https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700;900&display=swap");
@import "tailwindcss";
@import "nextra-theme-docs/style.css";

@variant dark (&:where(.dark, .dark *));

/* --- 1. DEFINISI VARIABEL TEMA --- */

/* LIGHT MODE: Stranger Things (Deep Red / Season 5)
   Menggunakan 'html:not(.dark)' agar menang prioritas dari default Nextra.
*/
html:not(.dark) {
    --nextra-primary-hue: 355deg !important;
    --nextra-primary-saturation: 85% !important;
    --nextra-primary-lightness: 45% !important;
    --nextra-bg: 252, 242, 242 !important; /* Putih Kemerahan (Kertas Tua) */
}

/* DARK MODE: The Upside Down (Electric Blue) */
.dark {
    --nextra-primary-hue: 205deg !important;
    --nextra-primary-saturation: 100% !important;
    --nextra-primary-lightness: 60% !important;
    --nextra-bg: 5, 12, 25 !important; /* Biru Laut Dalam */
}

@layer base {
    /* --- 2. GLOBAL RESET & TYPOGRAPHY --- */
    html,
    body {
        scroll-behavior: smooth;
    }

    /* Force Font Serif (Merriweather) untuk semua Heading */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 .nextra-breadcrumb {
        font-family: "Merriweather", serif !important;
        letter-spacing: -0.02em !important;
    }

    /* --- 3. BACKGROUND & ATMOSPHERE --- */
    body {
        background-color: rgb(var(--nextra-bg)) !important;
        transition:
            background-color 0.5s ease,
            color 0.5s ease;
    }

    /* Dark Mode Atmosphere: Efek Kabut & Partikel Upside Down */
    html.dark body {
        background-image:
            radial-gradient(
                circle at 20% 30%,
                rgba(30, 60, 100, 0.15) 0%,
                transparent 40%
            ),
            radial-gradient(
                circle at 80% 80%,
                rgba(20, 40, 80, 0.15) 0%,
                transparent 40%
            ) !important;
        background-attachment: fixed !important;
    }

    /* --- 4. COMPONENT OVERRIDES (NAVBAR & FOOTER) --- */

    /* Navbar: Blur & Tinted Background */
    .nextra-navbar-blur {
        background-color: rgba(var(--nextra-bg), 0.85) !important;
        backdrop-filter: blur(12px) !important;
        border-bottom: 1px solid rgba(var(--nextra-primary-hue), 50%, 50%, 0.2) !important;
    }

    /* Footer: Transparan & Menyatu dengan Background */
    html body div:has(> footer) {
        background-color: transparent !important;
        background-image: linear-gradient(
            to bottom,
            transparent,
            rgba(0, 0, 0, 0.05)
        ) !important;
        border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
    }

    html.dark body div:has(> footer) {
        background-image: linear-gradient(
            to top,
            #020617 0%,
            transparent 100%
        ) !important;
        border-top: 1px solid rgba(255, 255, 255, 0.05) !important;
    }

    /* --- 5. HEADING STYLES (GRADIENTS, SHADOWS, GLOW) --- */

    /* H1 Spesial: Warna Solid dengan Shadow/Glow */
    h1 {
        color: hsl(355, 85%, 45%) !important;
        text-shadow:
            0 0 7px rgba(220, 20, 60, 0.35),
            0 0 28px rgba(220, 20, 60, 0.42) !important;
    }

    /* H2: Slightly softer than H1 */
    h2 {
        color: hsl(355, 82%, 52%) !important;
        text-shadow:
            0 0 8px rgba(220, 20, 60, 0.26),
            0 0 20px rgba(220, 20, 60, 0.42) !important;
    }

    /* H3: Secondary heading — softer/red tint */
    h3 {
        color: hsl(355, 78%, 58%) !important;
        text-shadow:
            0 0 6px rgba(220, 20, 60, 0.2),
            0 0 14px rgba(220, 20, 60, 0.28) !important;
    }

    /* H4: Tertiary heading — subtler */
    h4 {
        color: hsl(355, 72%, 64%) !important;
        text-shadow:
            0 0 4px rgba(220, 20, 60, 0.14),
            0 0 10px rgba(220, 20, 60, 0.18) !important;
    }

    /* H5: Smaller headings */
    h5 {
        color: hsl(355, 66%, 70%) !important;
        text-shadow: 0 0 2px rgba(220, 20, 60, 0.1) !important;
    }

    /* H6: Smallest heading — minimal glow */
    h6 {
        color: hsl(355, 60%, 76%) !important;
        text-shadow: none !important;
    }

    /* DARK MODE: Slight blue/white neon glows */
    html.dark h1 {
        color: white !important;
        text-shadow: 0 0 24px rgba(50, 150, 255, 0.78) !important;
    }
    html.dark h2 {
        color: hsl(205, 90%, 92%) !important;
        text-shadow: 0 0 16px rgba(50, 150, 255, 0.6) !important;
    }
    html.dark h3 {
        color: hsl(205, 80%, 88%) !important;
        text-shadow: 0 0 12px rgba(50, 150, 255, 0.45) !important;
    }
    html.dark h4 {
        color: hsl(205, 75%, 84%) !important;
        text-shadow: 0 0 10px rgba(50, 150, 255, 0.36) !important;
    }
    html.dark h5 {
        color: hsl(205, 65%, 78%) !important;
        text-shadow: 0 0 8px rgba(50, 150, 255, 0.28) !important;
    }
    html.dark h6 {
        color: hsl(205, 60%, 74%) !important;
        text-shadow: 0 0 6px rgba(50, 150, 255, 0.18) !important;
    }

    /* Sidebar Active State: Garis Pinggir Neon/Merah */
    .nextra-sidebar-container .nextra-active {
        border-left: 3px solid currentColor !important;
        background: linear-gradient(
            90deg,
            currentColor 0%,
            transparent 150%
        ) !important;
        opacity: 0.1;
    }

    /* Hide Scrollbar (Clean Look) */
    html::-webkit-scrollbar {
        width: 0;
        height: 0;
        background: transparent;
    }
    html,
    body {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}
