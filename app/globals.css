@import url("https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700;900&display=swap");
@import "tailwindcss";
@import "nextra-theme-docs/style.css";

@variant dark (&:where(.dark, .dark *));

/* Hide Scrollbar (Clean Look) */
html::-webkit-scrollbar {
  width: 0;
  height: 0;
  background: transparent;
}
html,
body {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* --- 1. DEFINISI VARIABEL TEMA --- */

/* LIGHT MODE: Stranger Things (Deep Red / Season 5)
   Menggunakan 'html:not(.dark)' agar menang prioritas dari default Nextra.
*/
html:not(.dark) {
  --nextra-primary-hue: 355deg !important;
  --nextra-primary-saturation: 85% !important;
  --nextra-primary-lightness: 45% !important;
  --nextra-bg: 252, 242, 242 !important; /* Putih Kemerahan (Kertas Tua) */
}

/* DARK MODE: The Upside Down (Electric Blue) */
.dark {
  --nextra-primary-hue: 205deg !important;
  --nextra-primary-saturation: 100% !important;
  --nextra-primary-lightness: 60% !important;
  --nextra-bg: 5, 12, 25 !important; /* Biru Laut Dalam */
}

@layer base {
  /* --- 2. GLOBAL RESET & TYPOGRAPHY --- */
  html,
  body {
    scroll-behavior: smooth;
  }

  /* Force Font Serif (Merriweather) untuk semua Heading */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 .nextra-breadcrumb {
    font-family: "Merriweather", serif !important;
    letter-spacing: -0.02em !important;
  }

  /* --- 3. BACKGROUND & ATMOSPHERE --- */
  body {
    background-color: rgb(var(--nextra-bg)) !important;
  }

  /* Dark Mode Atmosphere: Efek Kabut & Partikel Upside Down */
  html.dark body {
    background-image:
      radial-gradient(
        circle at 20% 30%,
        rgba(30, 60, 100, 0.15) 0%,
        transparent 40%
      ),
      radial-gradient(
        circle at 80% 80%,
        rgba(20, 40, 80, 0.15) 0%,
        transparent 40%
      ) !important;
    background-attachment: fixed !important;
  }

  /* --- 4. COMPONENT OVERRIDES (NAVBAR & FOOTER) --- */

  /* Navbar: Blur & Tinted Background */
  .nextra-navbar-blur {
    background-color: rgba(var(--nextra-bg), 0.85) !important;
    backdrop-filter: blur(12px) !important;
    border-bottom: 1px solid rgba(var(--nextra-primary-hue), 50%, 50%, 0.2) !important;
  }

  /* Footer: Transparan & Menyatu dengan Background */
  html body div:has(> footer) {
    background-color: transparent !important;
    background-image: linear-gradient(
      to bottom,
      transparent,
      rgba(0, 0, 0, 0.05)
    ) !important;
    border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
  }

  html.dark body div:has(> footer) {
    background-image: linear-gradient(
      to top,
      #020617 0%,
      transparent 100%
    ) !important;
    border-top: 1px solid rgba(255, 255, 255, 0.05) !important;
  }

  /* --- 5. HEADING STYLES (GRADIENTS, SHADOWS, GLOW) --- */

  /* H1 Spesial: Warna Solid dengan Shadow/Glow */
  h1 {
    color: hsl(355, 85%, 45%) !important;
    text-shadow:
      0 0 7px rgba(220, 20, 60, 0.35),
      0 0 28px rgba(220, 20, 60, 0.42) !important;
  }

  /* H2: Slightly softer than H1 */
  h2 {
    color: hsl(355, 82%, 52%) !important;
    text-shadow:
      0 0 8px rgba(220, 20, 60, 0.26),
      0 0 20px rgba(220, 20, 60, 0.42) !important;
  }

  /* H3: Secondary heading — softer/red tint */
  h3 {
    color: hsl(355, 78%, 58%) !important;
    text-shadow:
      0 0 6px rgba(220, 20, 60, 0.2),
      0 0 14px rgba(220, 20, 60, 0.28) !important;
  }

  /* H4: Tertiary heading — subtler */
  h4 {
    color: hsl(355, 72%, 64%) !important;
    text-shadow:
      0 0 4px rgba(220, 20, 60, 0.14),
      0 0 10px rgba(220, 20, 60, 0.18) !important;
  }

  /* H5: Smaller headings */
  h5 {
    color: hsl(355, 66%, 70%) !important;
    text-shadow: 0 0 2px rgba(220, 20, 60, 0.1) !important;
  }

  /* H6: Smallest heading — minimal glow */
  h6 {
    color: hsl(355, 60%, 76%) !important;
    text-shadow: none !important;
  }

  /* DARK MODE: Slight blue/white neon glows */
  html.dark h1 {
    color: white !important;
    text-shadow: 0 0 24px rgba(50, 150, 255, 0.78) !important;
  }
  html.dark h2 {
    color: hsl(205, 90%, 92%) !important;
    text-shadow: 0 0 16px rgba(50, 150, 255, 0.6) !important;
  }
  html.dark h3 {
    color: hsl(205, 80%, 88%) !important;
    text-shadow: 0 0 12px rgba(50, 150, 255, 0.45) !important;
  }
  html.dark h4 {
    color: hsl(205, 75%, 84%) !important;
    text-shadow: 0 0 10px rgba(50, 150, 255, 0.36) !important;
  }
  html.dark h5 {
    color: hsl(205, 65%, 78%) !important;
    text-shadow: 0 0 8px rgba(50, 150, 255, 0.28) !important;
  }
  html.dark h6 {
    color: hsl(205, 60%, 74%) !important;
    text-shadow: 0 0 6px rgba(50, 150, 255, 0.18) !important;
  }

  /* Sidebar Active State: Garis Pinggir Neon/Merah */
  .nextra-sidebar-container .nextra-active {
    border-left: 3px solid currentColor !important;
    background: linear-gradient(
      90deg,
      currentColor 0%,
      transparent 150%
    ) !important;
    opacity: 0.1;
  }

  /* Steps Indicator: Color and border styling for the number bubble
       These mirror the expectations in stylesfromnextra/styles/steps.css so
       Nextra's Steps numbering matches the global theme. */
  .nextra-steps h2::before,
  .nextra-steps h3:not([style^="visibility:"])::before,
  .nextra-steps h4::before,
  .nextra-steps h5::before,
  .nextra-steps h6::before {
    /* Light mode: subtle tint of primary (Stranger Things) */
    background-color: hsla(
      var(--nextra-primary-hue),
      var(--nextra-primary-saturation),
      var(--nextra-primary-lightness),
      0.12
    ) !important; /* primary hue tint */
    color: hsl(
      var(--nextra-primary-hue),
      var(--nextra-primary-saturation),
      var(--nextra-primary-lightness)
    ) !important; /* primary as text */
    border-width: 4px !important; /* keep width if used for layout */
    border-style: solid !important;
    border-color: transparent !important; /* hide the outer border */
  }

  /* Dark mode: subtle tint of primary (Upside Down) */
  html.dark .nextra-steps h2::before,
  html.dark .nextra-steps h3:not([style^="visibility:"])::before,
  html.dark .nextra-steps h4::before,
  html.dark .nextra-steps h5::before,
  html.dark .nextra-steps h6::before {
    background-color: hsla(
      var(--nextra-primary-hue),
      var(--nextra-primary-saturation),
      var(--nextra-primary-lightness),
      0.12
    ) !important; /* primary hue tint */
    color: hsl(
      var(--nextra-primary-hue),
      var(--nextra-primary-saturation),
      var(--nextra-primary-lightness)
    ) !important; /* primary as text */
    border-width: 4px !important;
    border-style: solid !important;
    border-color: transparent !important; /* hide the outer border */
  }
  /* --- CARDS COMPONENT THEME (REVISED) --- */

  /* Layout Grid */
  .nextra-cards {
    grid-template-columns: repeat(
      auto-fill,
      minmax(max(250px, calc((100% - 1rem * 2) / var(--rows))), 1fr)
    ) !important;
    gap: 1rem !important;
  }

  /* Base Card Style (Default) */
  .nextra-card {
    /* Tambahkan border default agar kotak terlihat (tidak invisible) */
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    background-color: transparent !important;
  }

  /* Default border untuk Dark Mode */
  html.dark .nextra-card {
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
  }

  .nextra-card img {
    user-select: none;
  }
  .nextra-card p {
    margin-top: 0.5rem !important;
  }

  /* Icon Default (Dimmed) */
  .nextra-card > span > svg {
    width: 1.5rem !important;
    height: auto !important;
    flex-shrink: 0 !important;
    opacity: 0.6 !important;
  }

  /* --- HOVER EFFECTS --- */

  /* LIGHT MODE HOVER: STRANGER THINGS RED */
  html:not(.dark) .nextra-card:hover {
    /* Border Merah Tegas */
    border-color: var(--st-red-base) !important;

    /* Background Merah yang lebih "Berasa" (10% Opacity Merah)
               Kalau mau lebih merah lagi, naikkan 0.1 jadi 0.2 */
    background-color: rgba(220, 20, 60, 0.1) !important;

    /* Shadow Merah Menyala */
    box-shadow:
      0 4px 20px rgba(220, 20, 60, 0.2),
      0 0 0 1px var(--st-red-base) !important;

    transform: translateY(-3px) !important;
  }

  /* Icon Light Mode Hover */
  html:not(.dark) .nextra-card:hover > span > svg {
    color: var(--st-red-base) !important;
    opacity: 1 !important;
    filter: drop-shadow(0 0 2px rgba(220, 20, 60, 0.5));
    transform: scale(1.1);
  }

  /* DARK MODE HOVER: UPSIDE DOWN BLUE */
  html.dark .nextra-card:hover {
    border-color: var(--st-blue-base) !important;
    background-color: rgba(6, 182, 212, 0.1) !important; /* Cyan Tint */
    box-shadow:
      0 0 15px var(--st-blue-glow),
      inset 0 0 10px rgba(6, 182, 212, 0.1) !important;
    transform: translateY(-3px) !important;
  }

  /* Icon Dark Mode Hover */
  html.dark .nextra-card:hover > span > svg {
    color: var(--st-blue-base) !important;
    opacity: 1 !important;
    filter: drop-shadow(0 0 8px var(--st-blue-base));
    transform: scale(1.1);
  }

  /* --- BANNER THEME (STRANGER THINGS) --- */

  /* Override semua default Nextra banner styles */
  .nextra-banner,
  .nextra-banner * {
    background: transparent !important;
    border: none !important;
  }

  /* Banner container Light Mode */
  .nextra-banner {
    background: linear-gradient(
      to right,
      rgb(254, 226, 226),
      rgb(252, 231, 243)
    ) !important;
    border-bottom: 2px solid rgb(248, 113, 113) !important;
    color: rgb(127, 29, 29) !important;
    box-shadow: 0 4px 6px -1px rgba(220, 20, 60, 0.25) !important;
  }

  /* Banner container Dark Mode */
  html.dark .nextra-banner {
    background: linear-gradient(
      to right,
      rgb(15, 23, 42),
      rgb(23, 37, 84)
    ) !important;
    border-bottom: 2px solid rgba(59, 130, 246, 0.3) !important;
    color: rgb(219, 234, 254) !important;
    box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.2) !important;
  }

  /* Override text colors inside banner */
  .nextra-banner,
  .nextra-banner > div {
    color: inherit !important;
  }

  /* Banner links Light Mode */
  .nextra-banner a {
    color: rgb(153, 27, 27) !important;
    text-decoration: underline !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
  }

  .nextra-banner a:hover {
    color: rgb(127, 29, 29) !important;
    filter: drop-shadow(0 0 8px rgba(220, 20, 60, 0.7)) !important;
  }

  /* Banner links Dark Mode */
  html.dark .nextra-banner a {
    color: rgb(147, 197, 253) !important;
  }

  html.dark .nextra-banner a:hover {
    color: rgb(219, 234, 254) !important;
    filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.8)) !important;
  }

  /* Close Button Light Mode */
  .nextra-banner button[aria-label="Dismiss banner"],
  .nextra-banner button[aria-label="Dismiss banner"] * {
    color: hsl(355, 70%, 50%) !important;
    background: transparent !important;
    border: none !important;
    opacity: 0.7 !important;
    transition: all 0.3s ease !important;
  }

  .nextra-banner button[aria-label="Dismiss banner"]:hover,
  .nextra-banner button[aria-label="Dismiss banner"]:hover * {
    color: hsl(355, 85%, 45%) !important;
    opacity: 1 !important;
    filter: drop-shadow(0 0 6px rgba(220, 20, 60, 0.6)) !important;
    transform: scale(1.1) !important;
  }

  /* Close Button Dark Mode */
  html.dark .nextra-banner button[aria-label="Dismiss banner"],
  html.dark .nextra-banner button[aria-label="Dismiss banner"] * {
    color: hsl(205, 90%, 70%) !important;
    opacity: 0.7 !important;
  }

  html.dark .nextra-banner button[aria-label="Dismiss banner"]:hover,
  html.dark .nextra-banner button[aria-label="Dismiss banner"]:hover * {
    color: hsl(205, 100%, 80%) !important;
    opacity: 1 !important;
    filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.8)) !important;
    transform: scale(1.1) !important;
  }

  /* SVG icon di dalam button */
  .nextra-banner button[aria-label="Dismiss banner"] svg {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }
}
